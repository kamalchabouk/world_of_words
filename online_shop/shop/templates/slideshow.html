{% extends 'base.html' %}

{% block content %}
  <h2>All Books</h2>
  <div class="slideshow-container">
    {% for book in all_books %}
      <div class="slide fade">
        <img src="{{ book.picture.url }}" alt="{{ book.title }}">
        <div class="caption">{{ book.title }} - Author: {{ book.author }}</div>
      </div>
    {% endfor %}
  </div>

  <style>
    /* Slideshow container */
    .slideshow-container {
        position: relative;
        max-width: 100%;
        overflow: hidden;
    }

    /* Slides */
    .slide {
        display: none;
    }

    /* Fade animation */
    .fade {
        animation: fade 2s linear infinite;
    }

    /* Caption */
    .caption {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        color: white;
        padding: 10px;
        text-align: center;
    }

    /* Fade animation */
    @keyframes fade {
        0% { opacity: 0; }
        20% { opacity: 1; }
        80% { opacity: 1; }
        100% { opacity: 0; }
    }
  </style>

  <script>
    // JavaScript for controlling slideshow
    let slideIndex = 0;
    showSlides();

    function showSlides() {
        let slides = document.getElementsByClassName("slide");
        for (let i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        slideIndex++;
        if (slideIndex > slides.length) {
            slideIndex = 1;
        }
        slides[slideIndex - 1].style.display = "block";
        setTimeout(showSlides, 2000); // Change image every 2 seconds
    }
  </script>
{% endblock %}

